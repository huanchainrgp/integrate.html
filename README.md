<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full Game Flow Test - 4 Players</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace;
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #252526;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #4ec9b0;
            border-bottom: 2px solid #4ec9b0;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .log-container {
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            border-radius: 4px;
            padding: 20px;
            max-height: 80vh;
            overflow-y: auto;
            font-size: 13px;
        }

        .log-line {
            padding: 4px 8px;
            margin: 2px 0;
            border-left: 3px solid transparent;
            transition: background-color 0.2s;
        }

        .log-line:hover {
            background-color: #2a2d2e;
        }

        /* Step headers */
        .step {
            color: #569cd6;
            font-weight: bold;
            font-size: 14px;
            margin-top: 15px;
            margin-bottom: 5px;
            padding-left: 0;
        }

        /* Success messages */
        .success {
            color: #4ec9b0;
            border-left-color: #4ec9b0;
        }

        /* Error messages */
        .error {
            color: #f48771;
            border-left-color: #f48771;
        }

        /* Info messages */
        .info {
            color: #569cd6;
            border-left-color: #569cd6;
        }

        /* Warning messages */
        .warning {
            color: #dcdcaa;
            border-left-color: #dcdcaa;
        }

        /* Debug messages */
        .debug {
            color: #ce9178;
            border-left-color: #ce9178;
        }

        /* User-specific colors */
        .user-1 {
            color: #4ec9b0;
        }

        .user-2 {
            color: #569cd6;
        }

        .user-3 {
            color: #c586c0;
        }

        .user-4 {
            color: #dcdcaa;
        }

        /* Game events */
        .game-event {
            color: #9cdcfe;
        }

        .game-broadcast {
            color: #4fc1ff;
        }

        .game-action {
            color: #d7ba7d;
        }

        /* Cleanup */
        .cleanup {
            color: #808080;
        }

        /* Indentation for nested messages */
        .indent-1 {
            padding-left: 20px;
        }

        .indent-2 {
            padding-left: 40px;
        }

        /* Scrollbar styling */
        .log-container::-webkit-scrollbar {
            width: 12px;
        }

        .log-container::-webkit-scrollbar-track {
            background: #1e1e1e;
        }

        .log-container::-webkit-scrollbar-thumb {
            background: #424242;
            border-radius: 6px;
        }

        .log-container::-webkit-scrollbar-thumb:hover {
            background: #4e4e4e;
        }

        /* Summary section */
        .summary {
            margin-top: 20px;
            padding: 15px;
            background: #2d2d30;
            border-radius: 4px;
            border-left: 4px solid #4ec9b0;
        }

        .summary h2 {
            color: #4ec9b0;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .summary-item {
            margin: 5px 0;
            color: #d4d4d4;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Full Game Flow Test - 4 Players (2 Human + 2 Bot)</h1>
        
        <div class="log-container">
            <div class="log-line cleanup">[Cleanup] Cleaning up database tables before test...</div>
            <div class="log-line success">[Cleanup] âœ… Database cleanup completed</div>

            <div class="log-line step">[Step 1] Register/Login all users...</div>
            <div class="log-line indent-1 user-1">   [User 1] Attempting to register...</div>
            <div class="log-line indent-1 error">   [User 1] âŒ Register failed: HTTP 409: {"success":false,"error":{"code":"E2003","message":"Username already exists","details":{"username":"This username is already taken"}},"timestamp":"2025-11-28T17:38:52.697025+07:00"}</div>
            <div class="log-line indent-1 error">   [User 1] Error Code: E2003</div>
            <div class="log-line indent-1 error">   [User 1] Error Message: Username already exists</div>
            <div class="log-line indent-1 error">   [User 1] Error Details: map[username:This username is already taken]</div>
            <div class="log-line indent-1 info">   [User 1] Trying login instead...</div>
            <div class="log-line indent-1 info">   [User 1] Logging in...</div>
            <div class="log-line indent-1 debug">   [User 1] ğŸ” Parsing JWT token to extract user_id...</div>
            <div class="log-line indent-1 debug">   [User 1] ğŸ” JWT parts count: 3</div>
            <div class="log-line indent-1 debug">   [User 1] ğŸ” JWT payload (raw): eyJ1c2VyX2lkIjoiNjc0ZTFiZjgtNGFkNC00NzNmLTlkYTEtYWE0ZDQ5Mjk0NmFlIiwidXNlcm5hbWUiOiJ0ZXN0X3VzZXIxIiwicmVtZW1iZXIiOmZhbHNlLCJ0b2tlbl92ZXJzaW9uIjo3MTkwODAsImV4cCI6MTc2NDMyNzIzMiwiaWF0IjoxNzY0MzI2MzMyfQ</div>
            <div class="log-line indent-1 debug">   [User 1] ğŸ” JWT payload (decoded): {"user_id":"674e1bf8-4ad4-473f-9da1-aa4d492946ae","username":"test_user1","remember":false,"token_version":719080,"exp":1764327232,"iat":1764326332}</div>
            <div class="log-line indent-1 debug">   [User 1] ğŸ” JWT claims: user_id='674e1bf8-4ad4-473f-9da1-aa4d492946ae', username='test_user1'</div>
            <div class="log-line indent-1 success">   [User 1] âœ… Extracted user_id from JWT: 674e1bf8-4ad4-473f-9da1-aa4d492946ae</div>
            <div class="log-line indent-1 info">   [User 1] Setting balance to 100000000...</div>
            <div class="log-line indent-1 success">   [User 1] âœ… Balance set to 100000000</div>
            <div class="log-line user-1 success">[User 1] âœ… Ready (Token: eyJhbGciOiJIUzI1NiIs...)</div>
            <div class="log-line indent-1 user-2">   [User 2] Attempting to register...</div>
            <div class="log-line indent-1 error">   [User 2] âŒ Register failed: HTTP 409: {"success":false,"error":{"code":"E2003","message":"Username already exists","details":{"username":"This username is already taken"}},"timestamp":"2025-11-28T17:38:53.257704+07:00"}</div>
            <div class="log-line indent-1 error">   [User 2] Error Code: E2003</div>
            <div class="log-line indent-1 error">   [User 2] Error Message: Username already exists</div>
            <div class="log-line indent-1 error">   [User 2] Error Details: map[username:This username is already taken]</div>
            <div class="log-line indent-1 info">   [User 2] Trying login instead...</div>
            <div class="log-line indent-1 info">   [User 2] Logging in...</div>
            <div class="log-line indent-1 debug">   [User 2] ğŸ” Parsing JWT token to extract user_id...</div>
            <div class="log-line indent-1 debug">   [User 2] ğŸ” JWT parts count: 3</div>
            <div class="log-line indent-1 debug">   [User 2] ğŸ” JWT payload (raw): eyJ1c2VyX2lkIjoiNDhiZWU4NTItZGY2Ny00ZjZiLWI1NzQtOTMwN2JmY2YxNTkxIiwidXNlcm5hbWUiOiJ0ZXN0X3VzZXIyIiwicmVtZW1iZXIiOmZhbHNlLCJ0b2tlbl92ZXJzaW9uIjo5MzM5MzcsImV4cCI6MTc2NDMyNzIzMywiaWF0IjoxNzY0MzI2MzMzfQ</div>
            <div class="log-line indent-1 debug">   [User 2] ğŸ” JWT payload (decoded): {"user_id":"48bee852-df67-4f6b-b574-9307bfcf1591","username":"test_user2","remember":false,"token_version":933937,"exp":1764327233,"iat":1764326333}</div>
            <div class="log-line indent-1 debug">   [User 2] ğŸ” JWT claims: user_id='48bee852-df67-4f6b-b574-9307bfcf1591', username='test_user2'</div>
            <div class="log-line indent-1 success">   [User 2] âœ… Extracted user_id from JWT: 48bee852-df67-4f6b-b574-9307bfcf1591</div>
            <div class="log-line indent-1 info">   [User 2] Setting balance to 100000000...</div>
            <div class="log-line indent-1 success">   [User 2] âœ… Balance set to 100000000</div>
            <div class="log-line user-2 success">[User 2] âœ… Ready (Token: eyJhbGciOiJIUzI1NiIs...)</div>
            <div class="log-line indent-1 user-3">   [User 3] Attempting to register...</div>
            <div class="log-line indent-1 error">   [User 3] âŒ Register failed: HTTP 409: {"success":false,"error":{"code":"E2003","message":"Username already exists","details":{"username":"This username is already taken"}},"timestamp":"2025-11-28T17:38:53.835036+07:00"}</div>
            <div class="log-line indent-1 error">   [User 3] Error Code: E2003</div>
            <div class="log-line indent-1 error">   [User 3] Error Message: Username already exists</div>
            <div class="log-line indent-1 error">   [User 3] Error Details: map[username:This username is already taken]</div>
            <div class="log-line indent-1 info">   [User 3] Trying login instead...</div>
            <div class="log-line indent-1 info">   [User 3] Logging in...</div>
            <div class="log-line indent-1 debug">   [User 3] ğŸ” Parsing JWT token to extract user_id...</div>
            <div class="log-line indent-1 debug">   [User 3] ğŸ” JWT parts count: 3</div>
            <div class="log-line indent-1 debug">   [User 3] ğŸ” JWT payload (raw): eyJ1c2VyX2lkIjoiN2NkODFlZDEtNjA0YS00NmE2LTg5ZTktOTYyZGU1N2NjMDc2IiwidXNlcm5hbWUiOiJ0ZXN0X3VzZXIzIiwicmVtZW1iZXIiOmZhbHNlLCJ0b2tlbl92ZXJzaW9uIjo4NjQ1MzksImV4cCI6MTc2NDMyNzIzMywiaWF0IjoxNzY0MzI2MzMzfQ</div>
            <div class="log-line indent-1 debug">   [User 3] ğŸ” JWT payload (decoded): {"user_id":"7cd81ed1-604a-46a6-89e9-962de57cc076","username":"test_user3","remember":false,"token_version":864539,"exp":1764327233,"iat":1764326333}</div>
            <div class="log-line indent-1 debug">   [User 3] ğŸ” JWT claims: user_id='7cd81ed1-604a-46a6-89e9-962de57cc076', username='test_user3'</div>
            <div class="log-line indent-1 success">   [User 3] âœ… Extracted user_id from JWT: 7cd81ed1-604a-46a6-89e9-962de57cc076</div>
            <div class="log-line indent-1 info">   [User 3] Setting balance to 100000000...</div>
            <div class="log-line indent-1 success">   [User 3] âœ… Balance set to 100000000</div>
            <div class="log-line user-3 success">[User 3] âœ… Ready (Token: eyJhbGciOiJIUzI1NiIs...)</div>
            <div class="log-line indent-1 user-4">   [User 4] Attempting to register...</div>
            <div class="log-line indent-1 error">   [User 4] âŒ Register failed: HTTP 409: {"success":false,"error":{"code":"E2003","message":"Username already exists","details":{"username":"This username is already taken"}},"timestamp":"2025-11-28T17:38:54.419856+07:00"}</div>
            <div class="log-line indent-1 error">   [User 4] Error Code: E2003</div>
            <div class="log-line indent-1 error">   [User 4] Error Message: Username already exists</div>
            <div class="log-line indent-1 error">   [User 4] Error Details: map[username:This username is already taken]</div>
            <div class="log-line indent-1 info">   [User 4] Trying login instead...</div>
            <div class="log-line indent-1 info">   [User 4] Logging in...</div>
            <div class="log-line indent-1 debug">   [User 4] ğŸ” Parsing JWT token to extract user_id...</div>
            <div class="log-line indent-1 debug">   [User 4] ğŸ” JWT parts count: 3</div>
            <div class="log-line indent-1 debug">   [User 4] ğŸ” JWT payload (raw): eyJ1c2VyX2lkIjoiOTFiNjkzZTMtMmIxNy00ZjM3LTliOTAtMDBiZmQ2YTdlYzFkIiwidXNlcm5hbWUiOiJ0ZXN0X3VzZXI0IiwicmVtZW1iZXIiOmZhbHNlLCJ0b2tlbl92ZXJzaW9uIjo5ODA5OTUsImV4cCI6MTc2NDMyNzIzNCwiaWF0IjoxNzY0MzI2MzM0fQ</div>
            <div class="log-line indent-1 debug">   [User 4] ğŸ” JWT payload (decoded): {"user_id":"91b693e3-2b17-4f37-9b90-00bfd6a7ec1d","username":"test_user4","remember":false,"token_version":980995,"exp":1764327234,"iat":1764326334}</div>
            <div class="log-line indent-1 debug">   [User 4] ğŸ” JWT claims: user_id='91b693e3-2b17-4f37-9b90-00bfd6a7ec1d', username='test_user4'</div>
            <div class="log-line indent-1 success">   [User 4] âœ… Extracted user_id from JWT: 91b693e3-2b17-4f37-9b90-00bfd6a7ec1d</div>
            <div class="log-line indent-1 info">   [User 4] Setting balance to 100000000...</div>
            <div class="log-line indent-1 success">   [User 4] âœ… Balance set to 100000000</div>
            <div class="log-line user-4 success">[User 4] âœ… Ready (Token: eyJhbGciOiJIUzI1NiIs...)</div>

            <div class="log-line step">[Step 2] Connect all users to WebSocket...</div>
            <div class="log-line user-1 success">[User 1] âœ… WebSocket connected</div>
            <div class="log-line user-2 success">[User 2] âœ… WebSocket connected</div>
            <div class="log-line user-3 success">[User 3] âœ… WebSocket connected</div>
            <div class="log-line user-4 success">[User 4] âœ… WebSocket connected</div>

            <div class="log-line step">[Step 3] User 1 creates room...</div>
            <div class="log-line success">âœ… Room created: a7330ee3-76ff-4f80-8ddd-6362bfadef51</div>

            <div class="log-line step">[Step 4] All users join room...</div>
            <div class="log-line user-2 success">[User 2] âœ… Joined room</div>
            <div class="log-line user-3 success">[User 3] âœ… Joined room</div>
            <div class="log-line user-4 success">[User 4] âœ… Joined room</div>

            <div class="log-line step">[Step 5] Creating match via API...</div>
            <div class="log-line info">[Info] Match already exists, getting existing match...</div>
            <div class="log-line success">âœ… Match created via API: adbc8291-ece5-43e5-ad39-2ea2e3939d07</div>

            <div class="log-line step">[Step 6] Verifying users are in match...</div>
            <div class="log-line info">[Info] Match join happens automatically when users join room (Step 3)</div>
            <div class="log-line info">[Info] All users should already be in match. Skipping explicit join.</div>

            <div class="log-line step">[Step 7] All users ready for match...</div>
            <div class="log-line user-1 success">[User 1] âœ… Ready for match</div>
            <div class="log-line user-2 success">[User 2] âœ… Ready for match</div>
            <div class="log-line user-3 success">[User 3] âœ… Ready for match</div>
            <div class="log-line user-4 success">[User 4] âœ… Ready for match</div>
            <div class="log-line info">[Info] All 4 players ready - match will start automatically</div>

            <div class="log-line step">[Step 8] Waiting for match to start automatically...</div>
            <div class="log-line info">[Info] Match should start automatically when all 4 players ready</div>

            <div class="log-line step">[Step 9] User 1 initializes game...</div>
            <div class="log-line user-1 game-broadcast">[User 1] ğŸ“¨ Received gameplay broadcast: event=game_state_updated</div>
            <div class="log-line user-4 game-broadcast">[User 4] ğŸ“¨ Received gameplay broadcast: event=game_state_updated</div>
            <div class="log-line user-1 game-event">[User 1] ğŸ“¢ Received game_state_updated: Turn 1, Current Player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae (Seat: 0)</div>
            <div class="log-line user-4 game-event">[User 4] ğŸ“¢ Received game_state_updated: Turn 1, Current Player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae (Seat: 0)</div>
            <div class="log-line user-4">[User 4] â¸ï¸  Turn updated: Not your turn (Turn 1, Current Player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae)</div>
            <div class="log-line user-1 game-action">[User 1] ğŸ¯ It's YOUR turn now! (Turn 1)</div>
            <div class="log-line user-3 game-broadcast">[User 3] ğŸ“¨ Received gameplay broadcast: event=game_state_updated</div>
            <div class="log-line user-3 game-event">[User 3] ğŸ“¢ Received game_state_updated: Turn 1, Current Player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae (Seat: 0)</div>
            <div class="log-line user-3">[User 3] â¸ï¸  Turn updated: Not your turn (Turn 1, Current Player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae)</div>
            <div class="log-line user-2 game-broadcast">[User 2] ğŸ“¨ Received gameplay broadcast: event=game_state_updated</div>
            <div class="log-line user-2 game-event">[User 2] ğŸ“¢ Received game_state_updated: Turn 1, Current Player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae (Seat: 0)</div>
            <div class="log-line user-2">[User 2] â¸ï¸  Turn updated: Not your turn (Turn 1, Current Player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae)</div>
            <div class="log-line user-1 game-broadcast">[User 1] ğŸ“¨ Received gameplay broadcast: event=game_initialized</div>
            <div class="log-line user-2 game-broadcast">[User 2] ğŸ“¨ Received gameplay broadcast: event=game_initialized</div>
            <div class="log-line user-4 game-broadcast">[User 4] ğŸ“¨ Received gameplay broadcast: event=game_initialized</div>
            <div class="log-line user-3 game-broadcast">[User 3] ğŸ“¨ Received gameplay broadcast: event=game_initialized</div>
            <div class="log-line success">âœ… Game initialized</div>
            <div class="log-line info">[Info] Waiting for database transaction to commit...</div>
            <div class="log-line info">[Info] Verifying game state...</div>
            <div class="log-line info">[Info] Game State: Status=IN_PROGRESS, Turn=1, SeatIndex=0, PlayerOrder=[674e1bf8-4ad4-473f-9da1-aa4d492946ae 91b693e3-2b17-4f37-9b90-00bfd6a7ec1d 48bee852-df67-4f6b-b574-9307bfcf1591 7cd81ed1-604a-46a6-89e9-962de57cc076]</div>
            <div class="log-line info">[Info] Verifying user IDs...</div>
            <div class="log-line info">[Info] User 1 (test_user1): UserID=674e1bf8-4ad4-473f-9da1-aa4d492946ae</div>
            <div class="log-line info">[Info] User 2 (test_user2): UserID=48bee852-df67-4f6b-b574-9307bfcf1591</div>
            <div class="log-line info">[Info] User 3 (test_user3): UserID=7cd81ed1-604a-46a6-89e9-962de57cc076</div>
            <div class="log-line info">[Info] User 4 (test_user4): UserID=91b693e3-2b17-4f37-9b90-00bfd6a7ec1d</div>

            <div class="log-line step">[Step 10] Starting gameplay...</div>
            <div class="log-line info">[Info] User 1 & 2: Human (auto-roll via script)</div>
            <div class="log-line info">[Info] User 3 & 4: Bot (waiting for auto-roll dice)</div>

            <!-- Gameplay events - showing key moments -->
            <div class="log-line user-4">[User 4 - Human] Gameplay loop started</div>
            <div class="log-line user-2">[User 2 - Human] Gameplay loop started</div>
            <div class="log-line user-1">[User 1 - Human] Gameplay loop started</div>
            <div class="log-line user-3">[User 3 - Human] Gameplay loop started</div>
            <div class="log-line user-4">[User 4 - Human] â¸ï¸  Waiting... Current player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae (Turn 1)</div>
            <div class="log-line user-1 game-action">[User 1 - Human] ğŸ² It's your turn! Rolling dice... (Turn 1)</div>
            <div class="log-line user-1 debug">[User 1] ğŸ” DEBUG: user.UserID='674e1bf8-4ad4-473f-9da1-aa4d492946ae'</div>
            <div class="log-line user-2">[User 2 - Human] â¸ï¸  Waiting... Current player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae (Turn 1)</div>
            <div class="log-line user-3">[User 3 - Human] â¸ï¸  Waiting... Current player: 674e1bf8-4ad4-473f-9da1-aa4d492946ae (Turn 1)</div>
            <div class="log-line user-2 game-broadcast">[User 2] ğŸ“¨ Received gameplay broadcast: event=dice_rolled</div>
            <div class="log-line user-4 game-broadcast">[User 4] ğŸ“¨ Received gameplay broadcast: event=dice_rolled</div>
            <div class="log-line user-4 game-event">[User 4] ğŸ² Received dice_rolled broadcast: Player 674e1bf8-4ad4-473f-9da1-aa4d492946ae rolled [5 5] (sum: 10)</div>
            <div class="log-line user-3 game-broadcast">[User 3] ğŸ“¨ Received gameplay broadcast: event=dice_rolled</div>
            <div class="log-line user-3 game-event">[User 3] ğŸ² Received dice_rolled broadcast: Player 674e1bf8-4ad4-473f-9da1-aa4d492946ae rolled [5 5] (sum: 10)</div>
            <div class="log-line user-2 game-event">[User 2] ğŸ² Received dice_rolled broadcast: Player 674e1bf8-4ad4-473f-9da1-aa4d492946ae rolled [5 5] (sum: 10)</div>
            <div class="log-line user-1 game-broadcast">[User 1] ğŸ“¨ Received gameplay broadcast: event=dice_rolled</div>
            <div class="log-line user-1 game-action">[User 1] ğŸ² Received dice_rolled broadcast (MY ROLL): [5 5] (sum: 10, double: true)</div>
            <div class="log-line user-1 success">[User 1 - Human] âœ… Rolled: [5 5] (sum: 10)</div>
            <div class="log-line user-1">[User 1 - Human] â³ Waiting for dice_rolled event from server...</div>
            <div class="log-line user-1 success">[User 1 - Human] âœ… Received dice_rolled event: [5 5] (sum: 10, double: true)</div>
            <div class="log-line user-1 debug">[User 1] ğŸ” Available pieces: 8</div>
            <div class="log-line user-1 debug indent-2">   - Piece 2734ec96-4108-4526-9dc8-981bcec7a5ec: Status=in_home, Position=0, UserID=674e1bf8-4ad4-473f-9da1-aa4d492946ae (match: true)</div>
            <div class="log-line user-1 debug indent-2">   - Piece ac08ba45-67fd-4ef0-8314-652f9e4bd1ae: Status=in_home, Position=0, UserID=674e1bf8-4ad4-473f-9da1-aa4d492946ae (match: true)</div>
            <div class="log-line user-1 debug">[User 1] ğŸ” Attempting to move piece 2734ec96-4108-4526-9dc8-981bcec7a5ec (Status=in_home, Position=0, RollResult=10)</div>
            <div class="log-line user-1 game-broadcast">[User 1] ğŸ“¨ Received gameplay broadcast: event=piece_moved</div>
            <div class="log-line user-3 game-broadcast">[User 3] ğŸ“¨ Received gameplay broadcast: event=piece_moved</div>
            <div class="log-line user-2 game-broadcast">[User 2] ğŸ“¨ Received gameplay broadcast: event=piece_moved</div>
            <div class="log-line user-4 game-broadcast">[User 4] ğŸ“¨ Received gameplay broadcast: event=piece_moved</div>
            <div class="log-line user-1 success">[User 1 - Human] âœ… Moved piece 2734ec96-4108-4526-9dc8-981bcec7a5ec</div>

            <!-- More gameplay continues... -->
            <div class="log-line user-1">[User 1 - Human] â³ Waiting for next_turn event from server after move...</div>
            <div class="log-line user-1 success">[User 1 - Human] âœ… Received next_turn event: isMyTurn=true</div>
            <div class="log-line user-1">[User 1 - Human] â¸ï¸  Turn has advanced via WebSocket (Turn 1 -> 2), waiting for next turn</div>
            <div class="log-line user-1 game-action">[User 1 - Human] ğŸ² It's your turn! Rolling dice... (Turn 2)</div>
            <div class="log-line user-1 game-action">[User 1] ğŸ² Received dice_rolled broadcast (MY ROLL): [2 3] (sum: 5, double: false)</div>
            <div class="log-line user-1 success">[User 1 - Human] âœ… Rolled: [2 3] (sum: 5)</div>
            <div class="log-line user-1 warning">[User 1] âš ï¸  Cannot move piece ac08ba45-67fd-4ef0-8314-652f9e4bd1ae: socket move_piece failed: socket error: piece in home requires specific roll to leave (e.g., 6)</div>
            <div class="log-line user-1 success">[User 1 - Human] âœ… Moved piece 2734ec96-4108-4526-9dc8-981bcec7a5ec</div>
            <div class="log-line user-1">[User 1 - Human] âœ… Received next_turn event: isMyTurn=false</div>
            <div class="log-line user-1">[User 1 - Human] â¸ï¸  Turn has ended after move (not double roll, WebSocket confirmed), waiting for next turn</div>

            <div class="log-line user-4 game-action">[User 4 - Human] ğŸ² It's your turn! Rolling dice... (Turn 2)</div>
            <div class="log-line user-4 game-action">[User 4] ğŸ² Received dice_rolled broadcast (MY ROLL): [5 5] (sum: 10, double: true)</div>
            <div class="log-line user-4 success">[User 4 - Human] âœ… Rolled: [5 5] (sum: 10)</div>
            <div class="log-line user-4 success">[User 4 - Human] âœ… Moved piece 7e0577e5-df4e-4084-a4f3-88c13634a32e</div>
            <div class="log-line user-4">[User 4 - Human] âœ… Received next_turn event: isMyTurn=true</div>
            <div class="log-line user-4">[User 4 - Human] â¸ï¸  Turn has advanced via WebSocket (Turn 2 -> 3), waiting for next turn</div>
            <div class="log-line user-4 game-action">[User 4 - Human] ğŸ² It's your turn! Rolling dice... (Turn 3)</div>
            <div class="log-line user-4 game-action">[User 4] ğŸ² Received dice_rolled broadcast (MY ROLL): [5 5] (sum: 10, double: true)</div>
            <div class="log-line user-4 warning">[User 4] âš ï¸  Cannot move piece de4bfc02-4472-44bf-b9b1-b5d710ef32dc: socket move_piece failed: socket error: Cannot move to position occupied by own piece (self-blocking)</div>
            <div class="log-line user-4 success">[User 4 - Human] âœ… Moved piece 7e0577e5-df4e-4084-a4f3-88c13634a32e</div>
            <div class="log-line user-4">[User 4 - Human] âœ… Received next_turn event: isMyTurn=true</div>
            <div class="log-line user-4">[User 4 - Human] â¸ï¸  Turn has advanced via WebSocket (Turn 3 -> 4), waiting for next turn</div>
            <div class="log-line user-4 game-action">[User 4 - Human] ğŸ² It's your turn! Rolling dice... (Turn 4)</div>
            <div class="log-line user-4 game-action">[User 4] ğŸ² Received dice_rolled broadcast (MY ROLL): [3 1] (sum: 4, double: false)</div>
            <div class="log-line user-4 warning">[User 4] âš ï¸  Cannot move piece de4bfc02-4472-44bf-b9b1-b5d710ef32dc: socket move_piece failed: socket error: piece in home requires specific roll to leave (e.g., 6)</div>
            <div class="log-line user-4 success">[User 4 - Human] âœ… Moved piece 7e0577e5-df4e-4084-a4f3-88c13634a32e</div>
            <div class="log-line user-4">[User 4 - Human] âœ… Received next_turn event: isMyTurn=false</div>
            <div class="log-line user-4">[User 4 - Human] â¸ï¸  Turn has ended after move (not double roll, WebSocket confirmed), waiting for next turn</div>

            <div class="log-line user-2 game-action">[User 2] ğŸ¯ NEXT TURN: It's YOUR turn now! (Turn 4, Seat: 2)</div>
            <div class="log-line user-2 game-broadcast">[User 2] ğŸ“¨ Received gameplay broadcast: event=winner_announced</div>
            <div class="log-line user-3 game-broadcast">[User 3] ğŸ“¨ Received gameplay broadcast: event=winner_announced</div>
            <div class="log-line user-1 game-broadcast">[User 1] ğŸ“¨ Received gameplay broadcast: event=winner_announced</div>
            <div class="log-line user-4 game-broadcast">[User 4] ğŸ“¨ Received gameplay broadcast: event=winner_announced</div>
            <div class="log-line user-2 game-action">[User 2] ğŸ† Game finished!</div>
            <div class="log-line user-3 game-action">[User 3] ğŸ† Game finished!</div>
            <div class="log-line user-1 game-action">[User 1] ğŸ† Game finished!</div>
            <div class="log-line user-4 game-action">[User 4] ğŸ† Game finished!</div>
        </div>

        <div class="summary">
            <h2>Test Summary</h2>
            <div class="summary-item">âœ… All 4 users successfully registered/logged in</div>
            <div class="summary-item">âœ… All users connected via WebSocket</div>
            <div class="summary-item">âœ… Room created and all users joined</div>
            <div class="summary-item">âœ… Match created and all users ready</div>
            <div class="summary-item">âœ… Game initialized and started</div>
            <div class="summary-item">âœ… Gameplay flow completed with dice rolls and piece movements</div>
            <div class="summary-item">âœ… Game finished with winner announced</div>
        </div>
    </div>
</body>
</html>
